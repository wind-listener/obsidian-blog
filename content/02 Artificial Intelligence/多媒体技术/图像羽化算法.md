---
aliases:
  - 羽化
---
图像羽化算法的核心原理，是通过**渐变式地降低边缘像素的不透明度**，让目标区域与背景自然融合，从而消除生硬的边界。

### 一、核心原理：从“硬边界”到“软过渡”
传统的图像选区或裁剪是“非黑即白”的，像素要么完全保留，要么完全舍弃，这就形成了硬边缘。羽化算法则打破了这种二元判断，为边缘像素赋予了不同的“保留程度”，具体通过以下3步实现：
1. **确定边缘范围**：先计算目标区域（如选区、图层边缘）的边界，划定需要进行羽化处理的“过渡带”，这个过渡带的宽度由“羽化值”决定，值越大，过渡带越宽，效果越柔和。
2. **计算像素权重**：对过渡带内的每个像素，根据它与目标区域中心的距离计算“权重”。距离中心越近，权重越高（像素越清晰、不透明度越高）；距离边界越近，权重越低（像素越透明、越接近背景）。
3. **混合像素颜色**：按照计算出的权重，将目标区域像素与背景像素的颜色、透明度进行加权混合。最终呈现出“中心清晰、边缘逐渐透明”的渐变效果，实现视觉上的自然融合。

### 二、常见的羽化算法实现方式
不同算法的核心差异在于“如何计算像素权重”，以下是两种最主流的方式：

| 算法类型 | 计算逻辑 | 特点 |
|----------|----------|------|
| **高斯模糊算法** | 以像素到边界的距离为基础，代入高斯函数计算权重，距离越远，权重按正态分布快速下降。 | 过渡效果非常平滑自然，是Photoshop等软件的主流选择，但计算量相对较大。 |
| **线性梯度算法** | 按像素到边界的距离线性分配权重，距离边界0时权重为1（完全不透明），距离等于羽化值时权重为0（完全透明）。 | 计算速度快，逻辑简单，但过渡效果略逊于高斯模糊，边缘可能出现轻微的“台阶感”。 |

### 三、关键参数：羽化值的影响
羽化效果的强弱完全由“羽化值”（Feather Radius）控制，其单位是像素，具体影响如下：
- **羽化值=0**：无羽化效果，边缘为硬边界，与未处理时一致。
- **羽化值较小（如1-5px）**：过渡带窄，仅消除边缘的轻微锯齿，整体轮廓仍清晰，适合微调边缘。
- **羽化值较大（如20-50px）**：过渡带宽，边缘柔和度高，目标区域与背景几乎无缝融合，适合制作光晕、倒影、合成场景等效果。

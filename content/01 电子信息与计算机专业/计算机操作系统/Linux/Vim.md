---
title: "Vim"
date: 2025-11-05
draft: false
---

Vim 是一款高效的文本编辑器，广泛用于编程和文本处理，其核心特点是**模式化操作**。以下是 Vim 的基础用法和常用技巧：


### **一、基本模式**
Vim 有多种模式，最常用的是：
1. **普通模式（Normal Mode）**：默认模式，用于导航、删除、复制等操作（按 `Esc` 可从其他模式返回）。
2. **插入模式（Insert Mode）**：用于输入文本（按 `i` 进入，`Esc` 退出）。
3. **命令模式（Command Mode）**：用于执行保存、退出等命令（按 `:` 进入）。


### **二、常用操作**

#### **1. 启动与退出**
```bash
# 启动 Vim 并打开文件（文件不存在则创建）
vim 文件名

# 退出（命令模式下）
:q          # 退出（未修改）
:q!         # 强制退出（丢弃修改）
:w          # 保存
:wq 或 :x   # 保存并退出
```


#### **2. 插入模式（输入文本）**
在普通模式下按以下键进入插入模式：
- `i`：在光标前插入
- `I`：在当前行开头插入
- `a`：在光标后插入
- `A`：在当前行末尾插入
- `o`：在当前行下方新增一行并插入
- `O`：在当前行上方新增一行并插入


#### **3. 普通模式（导航与编辑）**
##### **光标移动**
- 方向键：`↑` `↓` `←` `→`（或 `k` `j` `h` `l`，更高效）
- 行内：`0`（行首）、`$`（行尾）、`w`（下一个单词开头）、`b`（上一个单词开头）
- 页面：`Ctrl+f`（向下翻页）、`Ctrl+b`（向上翻页）、`gg`（文件开头）、`G`（文件结尾）
- 行号跳转：`行号 + G`（如 `5G` 跳转到第 5 行）u


##### **删除操作**
- `x`：删除光标所在字符
- `dd`：删除当前行（可搭配数字，如 `3dd` 删除3行）
- `dw`：删除从光标到单词结尾
- `d$`：删除从光标到行尾
- `d0`：删除从光标到行首


##### **复制与粘贴**
- `yy`：复制当前行（`3yy` 复制3行）
- `yw`：复制从光标到单词结尾
- `p`：粘贴到光标后
- `P`：粘贴到光标前


##### **撤销与重做**
- `u`：撤销上一步操作
- `Ctrl+r`：重做（取消撤销）


##### **替换操作**
- `r`：替换光标所在单个字符（按 `r` 后输入新字符）
- `R`：进入替换模式（连续替换，`Esc` 退出）


#### **4. 命令模式（高级操作）**
##### **查找与替换**
- 查找：`/关键词`（向下查找）、`?关键词`（向上查找），按 `n` 下一个，`N` 上一个
- 替换：`:%s/旧内容/新内容/g`（全局替换，`%` 表示所有行，`g` 表示行内所有匹配）
  - 示例：`:%s/hello/world/g` 替换所有 `hello` 为 `world`
  - 带确认：`:%s/旧/新/gc`（每个匹配会提示是否替换）


##### **其他常用命令**
- 显示行号：`:set number`（简写 `:set nu`）
- 隐藏行号：`:set nonumber`（简写 `:set nonu`）
- 保存为新文件：`:w 新文件名`
- 分屏：`:split 文件名`（水平分屏）、`:vsplit 文件名`（垂直分屏），按 `Ctrl+w` 切换窗口


### **三、实用技巧**
1. **批量注释**：
   - 普通模式下按 `Ctrl+v` 进入可视化块模式，移动光标选中多行开头，按 `I` 输入注释符号（如 `#`），按 `Esc` 自动应用到所有选中行。
2. **快速缩进**：
   - 选中多行（`Shift+v` 进入可视化行模式），按 `>` 右缩进，`<` 左缩进。
3. **执行外部命令**：
   - 命令模式下 `:!命令`（如 `:!ls` 查看目录文件，`:!python 文件名` 运行脚本）。


### **四、学习资源**
- 启动后输入 `:help` 查看完整文档
- 练习工具：`vimtutor`（终端输入，交互式教程）

Vim 的效率在于熟练掌握快捷键，初期可能觉得复杂，多练习后会显著提升编辑速度！
---
title: "tar"
date: 2025-11-07
draft: false
---

tar æ˜¯ Linux å’Œç±» Unix ç³»ç»Ÿä¸­ç”¨äºæ–‡ä»¶æ‰“åŒ…ã€å‹ç¼©å’Œè§£å‹çš„å¼ºå¤§å·¥å…·ã€‚ä¸‹é¢ä¸ºä½ è¯¦ç»†ä»‹ç»å®ƒçš„ç”¨æ³•ã€‚

### ğŸ–¥ï¸ åŸºæœ¬è¯­æ³•
tar å‘½ä»¤çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š
```bash
tar [é€‰é¡¹] [å½’æ¡£æ–‡ä»¶] [æ–‡ä»¶æˆ–ç›®å½•åˆ—è¡¨]
```

### ğŸ§© ä¸»è¦é€‰é¡¹å’ŒåŠŸèƒ½
tar çš„é€‰é¡¹ç¹å¤šï¼Œä½†å…¶æ ¸å¿ƒåŠŸèƒ½å›´ç»•**åˆ›å»º**ã€**æŸ¥çœ‹**ã€**æå–**å’Œ**ç®¡ç†**å½’æ¡£æ–‡ä»¶ã€‚

| é€‰é¡¹          | åŠŸèƒ½æè¿°                       | ç¤ºä¾‹                                                |
| :---------- | :------------------------- | :------------------------------------------------ |
| `-c`        | åˆ›å»ºæ–°çš„å½’æ¡£æ–‡ä»¶                   | `tar -cvf archive.tar file1.txt dir1/`            |
| `-x`        | ä»å½’æ¡£ä¸­æå–æ–‡ä»¶                   | `tar -xvf archive.tar`                            |
| `-t`        | åˆ—å‡ºå½’æ¡£ä¸­çš„æ–‡ä»¶åˆ—è¡¨                 | `tar -tvf archive.tar`                            |
| `-r`        | å‘å·²æœ‰å½’æ¡£è¿½åŠ æ–‡ä»¶                  | `tar -rvf archive.tar new_file.txt`               |
| `-u`        | ä»…è¿½åŠ æ¯”å½’æ¡£å†…æ›´æ–°çš„æ–‡ä»¶               | `tar -uvf archive.tar updated_file.txt`           |
| `-f`        | **æŒ‡å®šå½’æ¡£æ–‡ä»¶å**ï¼ˆé€šå¸¸å¿…é¡»ï¼‰          | `tar -cvf my_backup.tar /my/data/`                |
| `-v`        | æ˜¾ç¤ºè¯¦ç»†å¤„ç†è¿‡ç¨‹ï¼ˆverboseï¼‰          | `tar -xzvf backup.tar.gz`                         |
| `-z`        | é€šè¿‡ gzip è¿‡æ»¤å½’æ¡£ï¼ˆå¤„ç† .tar.gzï¼‰   | `tar -czvf log_backup.tar.gz /var/log/`           |
| `-j`        | é€šè¿‡ bzip2 è¿‡æ»¤å½’æ¡£ï¼ˆå¤„ç† .tar.bz2ï¼‰ | `tar -cjvf photos.tar.bz2 /home/user/Pictures/`   |
| `-J`        | é€šè¿‡ xz è¿‡æ»¤å½’æ¡£ï¼ˆå¤„ç† .tar.xzï¼‰     | `tar -cJvf archive.tar.xz large_file.iso`         |
| `-C`        | è§£å‹æ—¶åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•                 | `tar -xzvf source_code.tar.gz -C /build/`         |
| `--exclude` | æ‰“åŒ…æ—¶æ’é™¤åŒ¹é…æ¨¡å¼çš„æ–‡ä»¶               | `tar -czvf project.tar.gz --exclude='*.tmp' src/` |
| `-p`        | ä¿ç•™æ–‡ä»¶çš„åŸå§‹æƒé™å’Œå±æ€§               | `tar -cpvf etc_backup.tar /etc/`                  |

### ğŸ“¦ å¸¸è§ç”¨æ³•ç¤ºä¾‹

#### 1. åˆ›å»ºå½’æ¡£æ–‡ä»¶
*   **ä»…æ‰“åŒ…ä¸å‹ç¼©**ï¼š
    ```bash
    tar -cvf archive_name.tar /path/to/file_or_directory
    ```
*   **æ‰“åŒ…å¹¶ç”¨ gzip å‹ç¼©**ï¼ˆç”Ÿæˆ `.tar.gz` æˆ– `.tgz`ï¼‰ï¼š
    ```bash
    tar -czvf archive_name.tar.gz /path/to/file_or_directory
    ```
*   **æ‰“åŒ…å¹¶ç”¨ bzip2 å‹ç¼©**ï¼ˆç”Ÿæˆ `.tar.bz2`ï¼‰ï¼š
    ```bash
    tar -cjvf archive_name.tar.bz2 /path/to/file_or_directory
    ```
*   **æ‰“åŒ…å¹¶ç”¨ xz å‹ç¼©**ï¼ˆç”Ÿæˆ `.tar.xz`ï¼‰ï¼š
    ```bash
    tar -cJvf archive_name.tar.xz /path/to/file_or_directory
    ```

#### 2. æå–å½’æ¡£æ–‡ä»¶
*   **è§£å‹ .tar æ–‡ä»¶**ï¼š
    ```bash
    tar -xvf archive_name.tar
    ```
*   **è§£å‹ .tar.gz æ–‡ä»¶**ï¼š
    ```bash
    tar -xzvf archive_name.tar.gz
    ```
*   **è§£å‹ .tar.bz2 æ–‡ä»¶**ï¼š
    ```bash
    tar -xjvf archive_name.tar.bz2
    ```
*   **è§£å‹åˆ°æŒ‡å®šç›®å½•**ï¼š
    ```bash
    tar -xzvf archive_name.tar.gz -C /path/to/target_directory
    ```

#### 3. æŸ¥çœ‹å½’æ¡£å†…å®¹
*   **åˆ—å‡ºå½’æ¡£å†…çš„æ–‡ä»¶**ï¼ˆä¸è§£å‹ï¼‰ï¼š
    ```bash
    tar -tvf archive_name.tar
    ```
    ```bash
    tar -tzvf archive_name.tar.gz  # æŸ¥çœ‹.gzå½’æ¡£
    ```

#### 4. å…¶ä»–å®ç”¨æ“ä½œ
*   **ä»å½’æ¡£ä¸­æå–å•ä¸ªæ–‡ä»¶**ï¼š
    ```bash
    tar -xvf archive_name.tar path/to/specific_file
    ```
*   **æ‰“åŒ…æ—¶æ’é™¤ç‰¹å®šæ–‡ä»¶æˆ–ç›®å½•**ï¼š
    ```bash
    tar -czvf backup.tar.gz --exclude='*.log' --exclude='tmp/' /path/to/directory
    ```
*   **ä»…æ‰“åŒ…ç›®å½•å†…å®¹ï¼ˆä¸åŒ…å«ç›®å½•æœ¬èº«ï¼‰**ï¼š
    ```bash
    tar -czvf contents.tar.gz -C /path/to/directory .
    ```

### ğŸ’¡ é«˜çº§æŠ€å·§ä¸æ³¨æ„äº‹é¡¹
*   **`-f` é€‰é¡¹å¿…é¡»åæ¥æ–‡ä»¶å**ï¼šå¹¶ä¸”å®ƒé€šå¸¸æ˜¯å‚æ•°åºåˆ—ä¸­çš„æœ€åä¸€ä¸ªé€‰é¡¹ã€‚
*   **ç†è§£ç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„**ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆå¦‚ `/home/user/data`ï¼‰æ‰“åŒ…æ—¶ï¼Œè§£å‹åä¹Ÿä¼šåˆ›å»ºåŒæ ·çš„ç»å¯¹è·¯å¾„ç»“æ„ã€‚ä¸ºé¿å…æ½œåœ¨é£é™©ï¼Œé€šå¸¸å»ºè®®å…ˆ `cd` åˆ°ç›®æ ‡ç›®å½•çš„çˆ¶ç›®å½•ï¼Œå†ç”¨ç›¸å¯¹è·¯å¾„æ‰“åŒ…ã€‚
*   **ä¿ç•™æƒé™**ï¼šå¤‡ä»½ç³»ç»Ÿé‡è¦æ–‡ä»¶ï¼ˆå¦‚ `/etc`ï¼‰æ—¶ï¼Œå»ºè®®åŠ ä¸Š `-p` é€‰é¡¹ä»¥ä¿ç•™æ–‡ä»¶åŸæœ‰çš„æƒé™å’Œå±æ€§ã€‚
*   **å‹ç¼©æ ¼å¼é€‰æ‹©**ï¼šä¸åŒçš„å‹ç¼©æ ¼å¼åœ¨å‹ç¼©ç‡å’Œé€Ÿåº¦ä¸Šå„æœ‰æƒè¡¡ï¼Œå¯æ ¹æ®éœ€è¦é€‰æ‹©ï¼š
| å‹ç¼©æ ¼å¼ | åç¼€ | å¯¹åº”å‚æ•° | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
| :--- | :--- | :--- | :--- | :--- |
| **gzip** | `.tar.gz`, `.tgz` | `-z` | å‹ç¼©é€Ÿåº¦è¾ƒå¿«ï¼Œå‹ç¼©ç‡ä¸­ç­‰ | æ—¥å¸¸ä½¿ç”¨ï¼Œå¹³è¡¡é€Ÿåº¦ä¸å‹ç¼©ç‡ |
| **bzip2** | `.tar.bz2` | `-j` | å‹ç¼©ç‡è¾ƒé«˜ï¼Œé€Ÿåº¦è¾ƒæ…¢ | å¯¹å‹ç¼©ç‡è¦æ±‚è¾ƒé«˜æ—¶ |
| **xz** | `.tar.xz` | `-J` | å‹ç¼©ç‡æœ€é«˜ï¼Œé€Ÿåº¦æœ€æ…¢ | éœ€è¦æè‡´å‹ç¼©ï¼Œä¸ä»‹æ„æ—¶é—´ |
| **æ— å‹ç¼©** | `.tar` | æ—  | é€Ÿåº¦æœ€å¿«ï¼Œä»…æ‰“åŒ… | å¿«é€Ÿå½’æ¡£æˆ–åç»­å¤„ç† |

å¸Œæœ›è¿™äº›ä¿¡æ¯èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ä½¿ç”¨ `tar` å‘½ä»¤ã€‚
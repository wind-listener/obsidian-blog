
本文聚焦阿里云空服务器初始化核心需求，详细拆解如何通过 VS Code 的 SSH 功能实现远程登录配置。全程遵循「服务器 SSH 服务就绪 + 登录凭证配置 + VS Code 连接适配」的核心逻辑，步骤清晰、新手友好，完成后即可基于远程界面开展后续环境部署、应用开发等工作。

## 一、前期准备：服务器端基础配置

首次配置需先通过阿里云控制台进入服务器，完成 SSH 服务验证、配置调整及网络放行，为本地连接铺路。

### 1. 登录阿里云服务器（控制台远程连接）

这是首次配置的必经步骤，无需本地安装额外工具，直接通过阿里云控制台操作：

1. 登录阿里云控制台，找到「云服务器 ECS」服务入口；

2. 在实例列表中点击目标服务器，右侧点击「远程连接」按钮；

3. 选择「Workbench 远程连接」，输入购买服务器时设置的「root 密码」（忘记可在实例详情页重置），即可进入服务器命令行界面。

### 2. 验证并启动 SSH 服务（Linux 通用）

阿里云服务器默认预装 SSH 服务（sshd），需确认其运行状态，未启动则手动激活：

#### 检查服务状态

```bash

# CentOS/RHEL 系统
systemctl status sshd

# Ubuntu/Debian 系统
service ssh status
```

状态显示「active (running)」即为已启动；若未启动，执行以下启动命令并设置开机自启：

```bash

# CentOS/RHEL 系统
systemctl start sshd && systemctl enable sshd

# Ubuntu/Debian 系统
service ssh start && update-rc.d ssh enable
```

### 3. 配置 SSH 允许密码登录（新手友好）

默认情况下，阿里云服务器可能限制密码登录，为方便首次连接，先临时开启密码登录权限：

#### 编辑 SSH 配置文件

```bash

vim /etc/ssh/sshd_config
```

#### 修改关键配置项

在配置文件中找到以下两项，修改为：

```plaintext

PasswordAuthentication yes  # 允许密码登录
PermitRootLogin yes          # 允许 root 用户登录（新手优先开启，后续可优化）
```

#### 保存配置并重启服务

在 vim 编辑器中按 `Esc` 键，输入 `:wq`并回车保存退出，随后重启 sshd 服务使配置生效：

```bash

# CentOS/RHEL 系统
systemctl restart sshd

# Ubuntu/Debian 系统
service ssh restart
```

### 4. 开放阿里云安全组（关键！必做）

阿里云服务器默认有安全组防护，需手动开放 SSH 默认端口（22 端口），否则本地无法连接：

1. 回到阿里云服务器实例页面，点击「安全组」→「配置规则」；

2. 切换到「入方向」标签，点击「添加安全组规则」；

3. 配置以下参数：
        

    - 端口范围：22（SSH 默认端口，未修改则无需变动）；

    - 授权对象：0.0.0.0/0（新手优先配置，允许所有 IP 访问，后续可改为自己的公网 IP 提升安全性）；

    - 协议类型：TCP；

    - 优先级：100（数值越高优先级越高，默认 100 即可）；

4. 点击「确定」保存规则，等待 1-2 分钟生效。

## 二、本地配置：VS Code 实现 SSH 远程登录

完成服务器端配置后，本地通过 VS Code 安装插件、配置连接信息，即可实现远程登录和管理。

### 1. 安装必要插件

打开本地 VS Code，点击左侧边栏「扩展」（或按 `Ctrl+Shift+X`），在扩展商店搜索并安装以下两款插件：

- Remote - SSH（微软官方插件，核心功能载体，实现 SSH 远程连接）；

- Remote - SSH: Editing Configuration Files（辅助插件，简化 SSH 配置文件编辑流程）。

### 2. 配置 SSH 连接信息

1. 按 `F1`（或 `Ctrl+Shift+P`）打开命令面板，输入「Remote-SSH: Open SSH Configuration File...」并回车；

2. 选择默认的配置文件（通常路径为 `~/.ssh/config`，Windows 系统可能为 `C:\Users\你的用户名\.ssh\config`）；

3. 在配置文件中添加以下内容，替换为自己的服务器信息：

```config

Host aliyun-server  # 自定义服务器名称，便于识别（如 aliyun-ecs）
  HostName 123.xxx.xxx.xxx  # 服务器公网 IP，可在阿里云实例详情页查询
  User root  # 登录用户，新手优先使用 root（后续可优化为普通用户）
  Port 22  # SSH 端口，默认 22，若后续修改过端口需对应调整
```

添加完成后按 `Ctrl+S` 保存配置。

### 3. 连接服务器并完成初始化

1. 点击 VS Code 左侧边栏「远程资源管理器」（图标为两台电脑）；

2. 在「SSH TARGETS」列表中找到刚才配置的 `aliyun-server`，右键选择「Connect to Host in New Window」（在新窗口连接）；

3. 首次连接会弹出系统类型选择，根据服务器系统（如 CentOS、Ubuntu）选择「Linux」；

4. 在弹出的输入框中输入服务器 root 密码，回车确认；

5. 等待 VS Code 自动安装「远程开发组件」（首次连接需 1-2 分钟，取决于网络速度），安装完成后自动进入服务器远程编辑界面。

### 4. 验证连接成功

在 VS Code 远程窗口中，按 `Ctrl+``（反引号）打开终端，输入以下命令：

```bash

pwd
```

若输出 `/root`，说明已成功登录服务器。此时可像编辑本地文件一样操作服务器文件，也可在终端直接执行服务器命令。

## 三、进阶优化：提升安全性与使用体验（可选）

基础连接完成后，推荐进行以下优化，避免 root 直接登录和密码泄露风险，提升使用安全性。

### 1. 改用密钥登录（替代密码，更安全）

密钥登录通过公私钥配对验证，无需输入密码，且安全性远高于密码登录，配置步骤如下：

#### 步骤 1：本地生成 SSH 密钥对

在本地 VS Code 终端（或系统终端）执行以下命令，生成密钥对：

```bash

# 生成 RSA 密钥对，4096 位加密（安全性更高）
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"  # 邮箱可任意填写，用于标识密钥
```

执行后按 3 次回车即可（无需设置密钥密码，新手更友好；若需更高安全级可设置），生成的密钥对默认存储在 `~/.ssh/` 目录下（私钥 `id_rsa`、公钥 `id_rsa.pub`）。

#### 步骤 2：将公钥上传至服务器

执行以下命令，将本地公钥自动上传到服务器的授权列表中：

```bash

ssh-copy-id root@123.xxx.xxx.xxx  # 替换为服务器公网 IP
```

输入服务器 root 密码，回车后公钥会自动复制到服务器 `~/.ssh/authorized_keys` 文件中。

#### 步骤 3：关闭密码登录（可选，提升安全性）

若密钥登录测试成功，可关闭密码登录功能，避免暴力破解：

```bash

# 再次编辑 SSH 配置文件
vim /etc/ssh/sshd_config

# 修改以下配置项
PasswordAuthentication no

# 重启 sshd 服务使配置生效
# CentOS/RHEL 系统
systemctl restart sshd
# Ubuntu/Debian 系统
service ssh restart
```

后续连接服务器时，将无需输入密码，直接通过密钥验证登录。

### 2. 创建普通用户（避免 root 直接登录）

root 用户权限过高，误操作可能导致服务器故障，推荐创建普通用户并赋予 sudo 权限，日常操作使用普通用户：

```bash

# 服务器端执行，创建普通用户（示例用户名为 dev，可自定义）
useradd -m dev  # -m 表示自动创建用户家目录

# 为普通用户设置密码
passwd dev  # 输入密码时无明文显示，输入完成回车即可

# 赋予 sudo 权限（允许普通用户执行管理员命令）
# CentOS/RHEL 系统
usermod -aG wheel dev
# Ubuntu/Debian 系统
usermod -aG sudo dev
```

本地优化：修改 SSH 配置文件，将 `User root` 改为 `User dev`，后续即可通过普通用户登录服务器。

## 四、常见问题排查

- **连接超时**：检查阿里云安全组是否开放 22 端口；确认服务器 sshd 服务是否正常运行；核实配置文件中的公网 IP 是否正确。

- **密码正确但登录失败**：检查 `/etc/ssh/sshd_config` 中 `PasswordAuthentication` 是否为 `yes`；修改配置后是否重启 sshd 服务。

- **VS Code 安装远程组件失败**：检查本地网络是否能访问 GitHub（组件依赖 GitHub 下载）；若无法访问，可切换国内镜像源（如阿里云镜像）。

## 总结

阿里云服务器开荒的核心是「打通本地与服务器的远程连接」，本文核心流程可概括为：**服务器端 SSH 服务就绪 + 安全组 22 端口放行 + 本地 VS Code SSH 配置**，三步即可实现远程登录与管理。

新手建议按「密码登录验证 → 密钥登录优化 → 普通用户使用」的节奏推进，兼顾易用性与安全性。完成配置后，VS Code 可直接实现服务器文件编辑、终端命令执行，为后续博客部署、开发环境搭建、应用上线等工作提供高效便捷的操作基础。
> （注：文档部分内容可能由 AI 生成）